<!-- app/views/orders/show.html.erb -->

<h1>Order Details</h1>

<!-- Order information -->
<p><strong>Order ID:</strong> <%= @order.id %></p>
<p><strong>Order Date:</strong> <%= @order.order_date %></p>
<p><strong>Status:</strong> <%= @order.status %></p>

<!-- Customer information -->
<h2>Customer Information</h2>
<p><strong>Name:</strong> <%= @order.customer.name %></p>
<p><strong>Email:</strong> <%= @order.customer.email %></p>
<p><strong>Address:</strong> <%= @order.customer.address %>, <%= @order.customer.province %></p>

<!-- Order items -->
<h2>Order Items</h2>
<table>
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Unit Price</th>
      <th>Subtotal</th>
    </tr>
  </thead>
  <tbody>
    <% @order.order_items.each do |item| %>
      <tr>
        <td><%= item.product.name %></td>
        <td><%= item.quantity %></td>
        <td><%= number_to_currency(item.unit_price) %></td>
        <td><%= number_to_currency(item.quantity * item.unit_price) %></td>
      </tr>
    <% end %>
    <tr>
      <td colspan="3"><strong>Total</strong></td>
      <td><strong><%= number_to_currency(@order.total_amount) %></strong></td>
    </tr>
  </tbody>
</table>